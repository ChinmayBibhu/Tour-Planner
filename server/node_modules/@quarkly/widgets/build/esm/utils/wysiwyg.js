import _extends from "@babel/runtime/helpers/esm/extends";
import _objectWithoutProperties from "@babel/runtime/helpers/esm/objectWithoutProperties";
import React, { forwardRef } from 'react';

var getStyleProps = function getStyleProps(props) {
  var _d1 = props['data-qid'],
      _d2 = props['data-quarkly-id'],
      _d3 = props['data-qparent'],
      _d4 = props['data-qoverride'],
      _d5 = props['data-props'],
      as = props.as,
      children = props.children,
      rest = _objectWithoutProperties(props, ["data-qid", "data-quarkly-id", "data-qparent", "data-qoverride", "data-props", "as", "children"]);

  return rest;
};

export var wysiwyg = function wysiwyg(Component) {
  var Wysiwyg = forwardRef(function (props, ref) {
    var mutated = Object.assign({}, props);
    var dataProps = getStyleProps(props);

    if (Object.keys(dataProps || {}).length) {
      mutated['data-props'] = JSON.stringify(dataProps);
    }

    return React.createElement(Component, _extends({}, mutated, {
      ref: ref
    }));
  });

  var render = Component.render,
      rest = _objectWithoutProperties(Component, ["render"]);

  Object.assign(Wysiwyg, rest);
  return Wysiwyg;
};