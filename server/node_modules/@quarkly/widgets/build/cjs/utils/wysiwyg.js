"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.wysiwyg = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var getStyleProps = function getStyleProps(props) {
  var _d1 = props['data-qid'],
      _d2 = props['data-quarkly-id'],
      _d3 = props['data-qparent'],
      _d4 = props['data-qoverride'],
      _d5 = props['data-props'],
      as = props.as,
      children = props.children,
      rest = (0, _objectWithoutProperties2["default"])(props, ["data-qid", "data-quarkly-id", "data-qparent", "data-qoverride", "data-props", "as", "children"]);
  return rest;
};

var wysiwyg = function wysiwyg(Component) {
  var Wysiwyg = (0, _react.forwardRef)(function (props, ref) {
    var mutated = Object.assign({}, props);
    var dataProps = getStyleProps(props);

    if (Object.keys(dataProps || {}).length) {
      mutated['data-props'] = JSON.stringify(dataProps);
    }

    return _react["default"].createElement(Component, (0, _extends2["default"])({}, mutated, {
      ref: ref
    }));
  });
  var render = Component.render,
      rest = (0, _objectWithoutProperties2["default"])(Component, ["render"]);
  Object.assign(Wysiwyg, rest);
  return Wysiwyg;
};

exports.wysiwyg = wysiwyg;